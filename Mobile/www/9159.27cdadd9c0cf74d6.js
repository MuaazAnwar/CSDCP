"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9159],{9159:(M,c,r)=>{r.r(c),r.d(c,{VerifyImagePageModule:()=>T});var h=r(6814),d=r(95),n=r(6761),u=r(3044),m=r(5861),e=r(6689),p=r(813),f=r(8926),b=r(9671),I=r(7294);function L(t,o){if(1&t&&e._UZ(0,"ion-img",7),2&t){const a=e.oxw();e.Q6J("src",a.dataitem.imageLink1)}}function v(t,o){1&t&&(e.TgZ(0,"p",21),e._uU(1," No image available "),e.qZA())}function _(t,o){if(1&t&&(e.TgZ(0,"ion-select-option",22),e._uU(1),e.qZA()),2&t){const a=o.$implicit;e.Q6J("value",a.id),e.xp6(1),e.Oqu(a.labelName)}}function y(t,o){if(1&t&&(e.TgZ(0,"ion-select-option",22),e._uU(1),e.qZA()),2&t){const a=o.$implicit;e.Q6J("value",a.id),e.xp6(1),e.Oqu(a.name)}}function N(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label",23),e._uU(2,"Copyright Link (Optional)"),e.qZA(),e.TgZ(3,"ion-input",24),e.NdJ("ngModelChange",function(i){e.CHM(a);const l=e.oxw();return e.KtG(l.issueDetails=i)}),e.qZA()()}if(2&t){const a=e.oxw();e.xp6(3),e.Q6J("ngModel",a.issueDetails)}}function Z(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label",23),e._uU(2,"Details"),e.qZA(),e.TgZ(3,"ion-input",24),e.NdJ("ngModelChange",function(i){e.CHM(a);const l=e.oxw();return e.KtG(l.issueDetails=i)}),e.qZA()()}if(2&t){const a=e.oxw();e.xp6(3),e.Q6J("ngModel",a.issueDetails)}}const x=[{path:"",component:(()=>{var t;class o{constructor(s,i,l,g,P,C){this.menu=s,this.httpService=i,this.alertService=l,this.dataService=g,this.RuntimeConfig=P,this.loadingController=C,this.dataitems=[{imageLink1:"https://media.istockphoto.com/id/1422644298/photo/hands-picking-pizza-slices.jpg?s=1024x1024&w=is&k=20&c=KHx-xvl2JAXdWEouQVZsKOlFs2Gk25dYlTQhUqCZjr8=",imageLink2:"https://media.istockphoto.com/id/1490258074/photo/colleagues-having-lunch-at-pizza-party-and-eating-assorted-pizzas-and-drinking-red-wine-on.jpg?s=1024x1024&w=is&k=20&c=p4EDVhZ6W3LcQ50rtbd97QYhfy7NtX2uyJLP4nUUrx8=",imageLink3:"https://docs-demo.ionic.io/assets/madison.jpg",id:"1"},{imageLink3:"https://media.istockphoto.com/id/1422644298/photo/hands-picking-pizza-slices.jpg?s=1024x1024&w=is&k=20&c=KHx-xvl2JAXdWEouQVZsKOlFs2Gk25dYlTQhUqCZjr8=",imageLink2:"https://media.istockphoto.com/id/1490258074/photo/colleagues-having-lunch-at-pizza-party-and-eating-assorted-pizzas-and-drinking-red-wine-on.jpg?s=1024x1024&w=is&k=20&c=p4EDVhZ6W3LcQ50rtbd97QYhfy7NtX2uyJLP4nUUrx8=",imageLink1:"https://docs-demo.ionic.io/assets/madison.jpg",id:"2"}],this.dataitem={imageLink1:"",imageLink2:"",imageLink3:"",id:""},this.hasNextOffset=!0,this.labelsList=[],this.label=null,this.reportedIssuesList=[{name:"Image is Unclear",id:"unclear"},{name:"Image Violates Privacy",id:"privacy"},{name:"Image is Inappropriate",id:"inappropriate"},{name:"Image Contains Copyrighted Material",id:"copyright"},{name:"Image has Poor Lighting",id:"poor_lighting"},{name:"Other Image Issue",id:"other"}],this.issue=null,this.issueDetails=null,this.currentOffset=0}ngOnInit(){}ionViewWillEnter(){this.menu.close(),this.fetchLabelsList(),this.fetchDataItem()}fetchLabelsList(){this.RuntimeConfig.useMockResponse?(this.labelsList.push({labelId:"1",labelName:"Sofas"}),this.labelsList.push({labelId:"2",labelName:"Chairs"}),this.labelsList.push({labelId:"3",labelName:"Tables"}),this.labelsList.push({labelId:"4",labelName:"Beds"}),this.labelsList.push({labelId:"5",labelName:"Desks"}),this.labelsList.push({labelId:"6",labelName:"Dressers"}),this.labelsList.push({labelId:"7",labelName:"Benches"}),this.labelsList.push({labelId:"8",labelName:"Stools"}),this.labelsList.push({labelId:"9",labelName:"Bookcases"}),this.labelsList.push({labelId:"10",labelName:"Nightstands"}),this.labelsList.push({labelId:"11",labelName:"Futons"}),this.labelsList.push({labelId:"12",labelName:"Couches"}),this.labelsList.push({labelId:"13",labelName:"Loveseats"}),this.labelsList.push({labelId:"14",labelName:"Ottomans"}),this.labelsList.push({labelId:"15",labelName:"Cabinets"}),this.labelsList.push({labelId:"16",labelName:"Shelves"}),this.labelsList.push({labelId:"17",labelName:"TV Stands"}),this.labelsList.push({labelId:"18",labelName:"Mirrors"}),this.labelsList.push({labelId:"19",labelName:"Rugs"}),this.labelsList.push({labelId:"20",labelName:"Lamps"}),this.labelsList.push({labelId:"21",labelName:"Pillows"})):this.httpService.get("/data_label/list").subscribe(s=>{console.log(s),this.labelsList=s},s=>{console.log(s),this.alertService.presentErrorAlertIWithoutButton(s.message)})}fetchDataItem(){if(this.RuntimeConfig.useMockResponse)this.dataitem=this.dataitems[this.currentOffset],this.hasNextOffset=this.currentOffset<this.dataitems.length-1,this.dataitem||(this.dataitem={imageLink1:null,imageLink2:null,imageLink3:null,id:null},this.alertService.presentErrorAlert("No more data items to verify!"),this.labelsList=null,this.reportedIssuesList=[]);else{let s=this.dataService.getData("userId");this.httpService.get(`/data_item/?currentUserId=${s}&offset=${this.currentOffset}`).subscribe(i=>{console.log(i),this.dataitem=i,this.httpService.get(`/data_item/?currentUserId=${s}&offset=${this.currentOffset+1}`).subscribe(l=>{console.log(l),l.id>0&&(this.hasNextOffset=!0)},l=>{console.log("unable to fetch next offest status due to error",l),this.hasNextOffset=!1})},i=>{console.log(i),this.alertService.presentErrorAlertIWithoutButton(i.error),this.hasNextOffset=!1,this.dataitem={imageLink1:null,imageLink2:null,imageLink3:null,id:null},this.labelsList=null,this.reportedIssuesList=[]})}}fetchPrevItem(){this.currentOffset-=1,this.fetchDataItem()}fetchNextItem(){this.currentOffset+=1,this.fetchDataItem()}submitDetails(){if(this.RuntimeConfig.useMockResponse)this.presentLoading().then(s=>{setTimeout(()=>{s.dismiss()},2e3)}),this.alertService.presentSuccessAlert("Details submitted successfully!"),this.dataitems.splice(this.currentOffset,1),this.currentOffset=0,this.label=null,this.issue=null,this.issueDetails=null,this.fetchDataItem();else{let s={dataItem:this.dataitem.id,reviewedBy:this.dataService.getData("userId"),label:this.label,reportedIssueType:this.issue,issueDetails:this.issueDetails};this.presentLoading().then(i=>{this.httpService.post("/data_item/review",s).subscribe(l=>{i.dismiss(),console.log(l),this.alertService.presentSuccessAlert(l.message),this.currentOffset=0,this.label=null,this.issue=null,this.issueDetails=null,this.fetchDataItem()},l=>{i.dismiss(),console.log(l),this.alertService.presentErrorAlertIWithoutButton(l.message)})})}}presentLoading(){var s=this;return(0,m.Z)(function*(){const i=yield s.loadingController.create({message:"Saving Feedback..."});return yield i.present(),i})()}}return(t=o).\u0275fac=function(s){return new(s||t)(e.Y36(n._q),e.Y36(p.f),e.Y36(f.c),e.Y36(b.D),e.Y36(I.j),e.Y36(n.HT))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-verify-image"]],decls:52,vars:13,consts:[["slot","end"],["auto-hide","false"],["fullscreen","true","scrollX","ture","scrollY","true",1,"ion-padding"],[2,"border","1px solid gray","padding-top","10px","padding-bottom","10px","padding-left","5px","padding-right","5px"],[1,"ion-text-center"],[3,"src",4,"ngIf"],["class","image-placeholder",4,"ngIf"],[3,"src"],[2,"margin-top","10px"],["size","6",2,"padding-left","0px"],[3,"disabled","click"],["size","6",2,"padding-right","0px","text-align","end"],["size","12",2,"padding-left","15%","padding-right","15%","margin-top","10px"],["label","Label","placeholder","Please Select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","20px"],["size","12"],[2,"font-weight","bold"],["label","Issue","placeholder","Please Select",3,"ngModel","ngModelChange"],[4,"ngIf"],["expand","full",3,"disabled","click"],[1,"image-placeholder"],[3,"value"],["position","floating"],["type","text",3,"ngModel","ngModelChange"]],template:function(s,i){1&s&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-menu-button",1),e.qZA()()(),e.TgZ(4,"ion-content",2)(5,"ion-grid")(6,"div",3)(7,"ion-row",4)(8,"ion-col")(9,"swiper-container")(10,"swiper-slide"),e.YNc(11,L,1,1,"ion-img",5),e.YNc(12,v,2,0,"p",6),e.qZA(),e.TgZ(13,"swiper-slide"),e._UZ(14,"ion-img",7),e.qZA(),e.TgZ(15,"swiper-slide"),e._UZ(16,"ion-img",7),e.qZA()()()()(),e.TgZ(17,"div")(18,"ion-row",8)(19,"ion-col",9)(20,"ion-button",10),e.NdJ("click",function(){return i.fetchPrevItem()}),e._uU(21," Back "),e.qZA()(),e.TgZ(22,"ion-col",11)(23,"ion-button",10),e.NdJ("click",function(){return i.fetchNextItem()}),e._uU(24," Next "),e.qZA()()()(),e.TgZ(25,"div")(26,"ion-row",8)(27,"ion-col",12)(28,"ion-item")(29,"ion-select",13),e.NdJ("ngModelChange",function(g){return i.label=g}),e.YNc(30,_,2,2,"ion-select-option",14),e.qZA()()()()(),e.TgZ(31,"div",15)(32,"ion-row")(33,"ion-col",16)(34,"span",17),e._uU(35,"Report Issus"),e.qZA()()(),e.TgZ(36,"ion-row",8)(37,"ion-col",12)(38,"ion-item")(39,"ion-select",18),e.NdJ("ngModelChange",function(g){return i.issue=g}),e.YNc(40,y,2,2,"ion-select-option",14),e.qZA()()()(),e.TgZ(41,"ion-row",8)(42,"ion-col",12),e.YNc(43,N,4,1,"ion-item",19),e.qZA()(),e.TgZ(44,"ion-row",8)(45,"ion-col",12),e.YNc(46,Z,4,1,"ion-item",19),e.qZA()()(),e.TgZ(47,"div")(48,"ion-row",15)(49,"ion-col",16)(50,"ion-button",20),e.NdJ("click",function(){return i.submitDetails()}),e._uU(51,"Submit"),e.qZA()()()()()()),2&s&&(e.xp6(11),e.Q6J("ngIf",i.dataitem.imageLink1),e.xp6(1),e.Q6J("ngIf",!i.dataitem.imageLink1),e.xp6(2),e.s9C("src",i.dataitem.imageLink2),e.xp6(2),e.s9C("src",i.dataitem.imageLink3),e.xp6(4),e.Q6J("disabled",0===i.currentOffset),e.xp6(3),e.Q6J("disabled",!i.hasNextOffset),e.xp6(6),e.Q6J("ngModel",i.label),e.xp6(1),e.Q6J("ngForOf",i.labelsList),e.xp6(9),e.Q6J("ngModel",i.issue),e.xp6(1),e.Q6J("ngForOf",i.reportedIssuesList),e.xp6(3),e.Q6J("ngIf","copyright"===i.issue),e.xp6(3),e.Q6J("ngIf","other"===i.issue),e.xp6(4),e.Q6J("disabled",!(i.issue||i.label)))},dependencies:[h.sg,h.O5,d.JJ,d.On,n.YG,n.Sm,n.wI,n.W2,n.jY,n.Gu,n.Xz,n.pK,n.Ie,n.Q$,n.fG,n.Nd,n.t9,n.n0,n.sr,n.QI,n.j9]}),o})()}];let k=(()=>{var t;class o{}return(t=o).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(x),u.Bz]}),o})(),T=(()=>{var t;class o{}return(t=o).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.ez,d.u5,n.Pc,k]}),o})()}}]);